(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{485:function(e,t,c){},486:function(e,t,c){},487:function(e,t,c){"use strict";c.r(t);var a=c(9),n=c.n(a),r=c(44),s=c.n(r),i=c(12),j=c(43),u=c(19),b=c(0),o=c.n(b),l=c(1),d=c(167),O=c(40),x=c(16),p=c(49),f=(Object(d.a)({apiKey:"AIzaSyAAG-l8H4qpJPxG1Y4WdEsDYIc-0YGIxCA",authDomain:"nwitter-19a5b.firebaseapp.com",projectId:"nwitter-19a5b",storageBucket:"nwitter-19a5b.appspot.com",messagingSenderId:"419402906253",appId:"1:419402906253:web:8ace42a87664da1d0240c4"}),Object(O.d)()),h=Object(x.f)(),m=Object(p.c)(),v=c(28),w=c(36),N=c(7),g=function(e){e.userObj;var t=e.nweetObj,c=e.isOwner,n=Object(a.useState)(!1),r=Object(i.a)(n,2),s=r[0],j=r[1],u=Object(a.useState)(t.text),b=Object(i.a)(u,2),d=b[0],O=b[1],f=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=7;break}return e.next=4,Object(x.c)(Object(x.d)(h,"nweets",t.id));case 4:if(""===t.attachmentUrl){e.next=7;break}return e.next=7,Object(p.a)(Object(p.d)(m,t.attachmentUrl));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,Object(x.j)(Object(x.d)(h,"nweets",t.id),{text:d});case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){return j((function(e){return!e}))};return Object(N.jsx)("div",{children:s?Object(N.jsxs)("div",{className:"tweetContainer",children:[Object(N.jsx)("div",{className:"tweetProfile",children:Object(N.jsx)("div",{className:"bold userName",children:t.creatorName})}),Object(N.jsxs)("form",{className:"editForm",onSubmit:g,children:[Object(N.jsx)("input",{onChange:function(e){var t=e.target.value;O(t)},type:"text",placeholder:"Edit your nweet",value:d,required:!0}),Object(N.jsx)("input",{type:"submit",value:"Update"})]}),Object(N.jsx)(v.a,{className:"editCancel",onClick:y,icon:w.e})]}):Object(N.jsxs)("div",{className:"tweetContainer",children:[Object(N.jsx)("div",{className:"tweetProfile",children:Object(N.jsx)("div",{className:"bold userName",children:t.creatorName})}),Object(N.jsxs)("div",{className:"nweet",children:[t.attachmentUrl&&Object(N.jsx)("img",{className:"image",src:t.attachmentUrl,width:"50px",height:"50px"}),Object(N.jsx)("h4",{children:t.text}),c?Object(N.jsxs)("div",{className:"deleteAndEdit",children:[Object(N.jsx)("div",{className:"createdAt",children:Date(t.createdAt)}),Object(N.jsx)("button",{onClick:y,children:Object(N.jsx)(v.a,{icon:w.b})}),Object(N.jsx)("button",{onClick:f,children:Object(N.jsx)(v.a,{icon:w.d})})]}):Object(N.jsx)("div",{className:"createdAt",children:Date(t.createdAt)})]})]})})},y=function(e){var t=e.userObj,c=e.refreshUser,n=(e.nweetObj,Object(a.useState)([])),r=Object(i.a)(n,2),s=(r[0],r[1],Object(a.useState)(t.displayName)),b=Object(i.a)(s,2),d=b[0],p=b[1],m=Object(u.f)(),v=function(){var e=Object(l.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(x.i)(Object(x.b)(h,"nweets"),Object(x.k)("creatorId","==",t.uid),Object(x.h)("createdAt","desc")),e.next=3,Object(x.e)(c);case 3:e.sent.forEach(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.j)(Object(x.d)(h,"nweets",t.id),{creatorName:d});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){}),[]);var w=function(){var e=Object(l.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(),t.displayName===d){e.next=7;break}return e.next=5,Object(O.g)(f.currentUser,{displayName:d});case 5:c(),m.push("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"editProfileContainer",children:[Object(N.jsxs)("form",{className:"editNameForm",onSubmit:w,children:[Object(N.jsx)("input",{type:"text",placeholder:"Display Name",onChange:function(e){var t=e.target.value;p(t)},value:d}),Object(N.jsx)("input",{type:"submit",value:"Update Profile"})]}),Object(N.jsx)(j.b,{className:"bold home",to:"/",children:"Home"}),Object(N.jsx)("button",{onClick:function(){f.signOut(),m.push("/")},children:"Log Out"})]})},k=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),j=s[0],u=s[1],b=Object(a.useState)(!0),d=Object(i.a)(b,2),x=d[0],p=d[1],h=Object(a.useState)(""),m=Object(i.a)(h,2),v=m[0],w=m[1],g=function(e){var t=e.target,c=t.name,a=t.value;"email"===c?n(a):"password"===c&&u(a)},y=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!x){e.next=8;break}return e.next=5,Object(O.c)(f,c,j);case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,Object(O.e)(f,c,j);case 10:a=e.sent;case 11:console.log(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),w(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("form",{onSubmit:y,className:"loginForm",children:[Object(N.jsx)("input",{className:"idStyle",name:"email",type:"email",placeholder:"Email",required:!0,value:c,onChange:g}),Object(N.jsx)("input",{className:"passStyle",name:"password",type:"password",placeholder:"Password",required:!0,value:j,onChange:g}),Object(N.jsx)("input",{className:"buttonStyle",type:"submit",value:x?"Create Acount":"Log In"})]}),v,Object(N.jsx)("span",{className:"smallButton",onClick:function(){return p((function(e){return!e}))},children:x?"Log In":"Create Account"})]})},S=c(121),C=function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(c=t.target.name)?a=new O.b:"github"===c&&(a=new O.a),e.next=4,Object(O.f)(f,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"authContainer",children:[Object(N.jsx)(v.a,{className:"faDove",icon:w.a}),Object(N.jsx)(k,{}),Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{className:"faGoogleBtn",onClick:e,name:"google",children:Object(N.jsx)(v.a,{className:"faGoogle",icon:S.b})}),Object(N.jsx)("button",{className:"faGithubBtn",onClick:e,name:"github",children:Object(N.jsx)(v.a,{className:"faGithub",icon:S.a})})]})]})},A=c(21),I=c(90),D=(c(95),c(489)),U=function(e){var t=e.userObj,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],s=n[1],j=Object(a.useState)(),u=Object(i.a)(j,2),b=u[0],d=u[1],O=function(){var e=Object(l.a)(o.a.mark((function e(c){var a,n,i,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),e.prev=1,a="",!b){e.next=11;break}return n=Object(p.d)(m,"".concat(t.uid,"/").concat(Object(D.a)())),e.next=7,Object(p.e)(n,b,"data_url");case 7:return i=e.sent,e.next=10,Object(p.b)(i.ref);case 10:a=e.sent;case 11:return j={text:r,createdAt:Date.now(),creatorId:t.uid,creatorName:t.displayName,attachmentUrl:a},e.next=14,Object(x.a)(Object(x.b)(h,"nweets"),j);case 14:e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error adding document: ",e.t0);case 20:s(""),d("");case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("form",{className:"nweetForm",onSubmit:O,children:[Object(N.jsxs)("div",{className:"textAndSubmit",children:[Object(N.jsx)("input",{className:"nweetInput",value:r,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),Object(N.jsxs)("div",{class:"filebox",children:[Object(N.jsx)("label",{for:"ex_file",children:Object(N.jsx)(v.a,{icon:w.c})}),Object(N.jsx)("input",{type:"file",id:"ex_file",accept:"image/*",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;d(t)},c.readAsDataURL(t)}})]}),Object(N.jsx)("input",{className:"nweetSubmit",type:"submit",value:"NWEET"})]}),b&&Object(N.jsxs)("div",{children:[Object(N.jsx)("img",{src:b,width:"50px",height:"50px"}),Object(N.jsx)("button",{onClick:function(){return d(null)},children:"Clear"})]})]})},E=(c(186),function(e){var t=e.userObj,c=Object(a.useState)([]),n=Object(i.a)(c,2),r=n[0],s=n[1],j=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(x.i)(Object(x.b)(h,"nweets"),Object(x.h)("createdAt","desc")),e.next=3,Object(x.e)(t);case 3:e.sent.forEach((function(e){var t=Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id});s((function(e){return[t].concat(Object(A.a)(e))}))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j();var e=Object(x.i)(Object(x.b)(h,"nweets"),Object(x.h)("createdAt","desc"));Object(x.g)(e,(function(e){var t=e.docs.map((function(e){return Object(I.a)({id:e.id},e.data())}));s(t)}))}),[]),Object(N.jsxs)("div",{children:[Object(N.jsx)(U,{userObj:t}),Object(N.jsx)("div",{className:"nweets",children:r.map((function(e){return Object(N.jsx)(g,{userObj:t,nweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})}),L=function(e){var t=e.userObj;return Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{className:"navList",children:[Object(N.jsx)("li",{children:Object(N.jsx)(j.b,{to:"/",children:Object(N.jsx)(v.a,{className:"faDove",icon:w.a})})}),t&&Object(N.jsxs)("li",{children:[Object(N.jsx)(j.b,{className:"bold",to:"/profile",children:t.displayName}),Object(N.jsx)("sapn",{children:"\ub2d8 \uc548\ub155\ud558\uc138\uc694"})]})]})})},F=function(e){var t=e.userObj;return Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{className:"navList",children:[Object(N.jsx)("li",{children:Object(N.jsx)(j.b,{to:"/",children:Object(N.jsx)(v.a,{className:"faDove",icon:w.a})})}),t&&Object(N.jsxs)("li",{children:[Object(N.jsx)(j.b,{className:"bold",to:"/profile",children:t.displayName}),Object(N.jsx)("sapn",{children:"\ub2d8 \uc774\ub984\uc744 \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})]})})},G=function(e){var t=e.refreshUser,c=e.isLoggedIn,a=e.userObj;return Object(N.jsx)(j.a,{children:Object(N.jsx)(u.c,{children:c?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(u.a,{exact:!0,path:"/",children:[Object(N.jsx)(L,{userObj:a}),Object(N.jsx)(E,{userObj:a})]}),Object(N.jsxs)(u.a,{exact:!0,path:"/profile",children:[Object(N.jsx)(F,{userObj:a}),Object(N.jsx)(y,{refreshUser:t,userObj:a})]})]}):Object(N.jsx)(u.a,{exact:!0,path:"/",children:Object(N.jsx)(C,{})})})})};var P=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!1),s=Object(i.a)(r,2),j=s[0],u=s[1],b=Object(a.useState)(null),o=Object(i.a)(b,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){f.onAuthStateChanged((function(e){e?(u(!0),e.displayName?d({displayName:e.displayName,uid:e.uid}):d({displayName:"\uc774\ub984\uc5c6\uc74c",uid:e.uid})):(u(!1),d(null)),n(!0)}))}),[]),Object(N.jsx)(N.Fragment,{children:c?Object(N.jsx)(G,{refreshUser:function(){var e=f.currentUser;e.displayName?d({displayName:e.displayName,uid:e.uid}):d({displayName:"\uc774\ub984\uc5c6\uc74c",uid:e.uid})},isLoggedIn:j,userObj:l}):"Initializing..."})};c(485),c(486);s.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(P,{})}),document.getElementById("root"))}},[[487,1,2]]]);
//# sourceMappingURL=main.a29022d3.chunk.js.map